<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:ShoppingList.Views.Controls"
    x:Class="ShoppingList.Views.ShopListPage"
    Title="Lista do sklepu">

  <ContentPage.ToolbarItems>
    <ToolbarItem Text="Eksport" Command="{Binding ExportCommand}" />
    <ToolbarItem Text="Import" Command="{Binding ImportCommand}" />
  </ContentPage.ToolbarItems>

  <Grid Padding="10" RowDefinitions="Auto,*" ColumnDefinitions="*">
    <StackLayout Orientation="Horizontal" Spacing="8" Grid.Row="0">
      <Button Text="Odśwież" Command="{Binding RefreshShopViewCommand}" />
      <Picker Title="Sortuj"
              ItemsSource="{Binding ShopSortOptions}"
              ItemDisplayBinding="{Binding Label}"
              SelectedItem="{Binding SelectedShopSortOption}"
              HorizontalOptions="FillAndExpand" />
    </StackLayout>

    <CollectionView Grid.Row="1"
                    ItemsSource="{Binding ShopViewProducts}"
                    SelectionMode="None"
                    ItemsLayout="VerticalList">
      <CollectionView.ItemTemplate>
        <DataTemplate>
          <controls:ProductView />
        </DataTemplate>
      </CollectionView.ItemTemplate>
    </CollectionView>
  </Grid>
</ContentPage>
